# Rest

 **REST** \(от англ. **Re**presentational **S**tate **T**ransfer — «передача состояния представления»\) — архитектурный стиль взаимодействия компонентов распределённого приложения в сети. REST представляет собой согласованный набор ограничений, учитываемых при проектировании распределённой гипермедиа-системы. 

 REST на сегодняшний день практически вытеснил все остальные подходы, в том числе дизайн основанный на SOAP и WSDL.

## Что нам дает REST подход

* Масштабируемости взаимодействия компонентов системы \(приложения\)
* Общность интерфейсов
* Независимое внедрение компонентов
* Промежуточные компоненты, снижающие задержку, усиливающие безопасность

## Когда использовать REST? <a id="8735"></a>

• Когда есть ограничение пропускной способности соединения

• Если необходимо кэшировать запросы

• Если система предполагает значительное масштабирование

• В сервисах, использующих AJAX

## Преимущества REST: <a id="0249"></a>

* Отсутствие дополнительных внутренних прослоек, что означает передачу данных в том же виде, что и сами данные. Т.е. данные не оборачиваются в [XML](https://ru.wikipedia.org/wiki/XML), как это делает [SOAP](https://ru.wikipedia.org/wiki/SOAP) и [XML-RPC](https://ru.wikipedia.org/wiki/XML-RPC), не используется [AMF](https://ru.wikipedia.org/wiki/Action_Message_Format), как это делает Flash и т.д. Просто отдаются сами данные.
* Каждая единица информации \(**ресурс**\) однозначно определяется URL — это значит, что URL по сути является первичным ключом для единицы данных. Причем совершенно не имеет значения, в каком формате находятся данные по адресу — это может быть и HTML, и jpeg, и документ Microsoft Word.
* Как происходит управление информацией ресурса — это целиком и полностью основывается на протоколе передачи данных. Наиболее распространенный протокол конечно же [HTTP](https://ru.wikipedia.org/wiki/HTTP). Для HTTP действие над данными задается с помощью методов : GET \(получить\), PUT \(добавить, заменить\), POST \(добавить, изменить, удалить\), DELETE \(удалить\). Таким образом, действия [CRUD](https://ru.wikipedia.org/wiki/CRUD) \(Create-Read-Update-Delete\) могут выполняться как со всеми 4-мя методами, так и только с помощью GET и POST.

## Что такое RESTful: <a id="f92e"></a>

Чтобы распределенная система считалась сконструированной по REST архитектуре \(Restful\), необходимо, чтобы она удовлетворяла следующим критериям:

1. **Client-Server.** Система должна быть разделена на клиентов и на серверов. Разделение интерфейсов означает, что, например, клиенты не связаны с хранением данных, которое остается внутри каждого сервера, так что мобильность кода клиента улучшается. Серверы не связаны с интерфейсом пользователя или состоянием, так что серверы могут быть проще и масштабируемы. Серверы и клиенты могут быть заменяемы и разрабатываться независимо, пока интерфейс не изменяется.
2. **Stateless.** Сервер не должен хранить какой-либо информации о клиентах. В запросе должна храниться вся необходимая информация для обработки запроса и если необходимо, идентификации клиента.
3. **Cache․** Каждый ответ должен быть отмечен является ли он кэшируемым или нет, для предотвращения повторного использования клиентами устаревших или некорректных данных в ответ на дальнейшие запросы.
4. **Uniform Interface.** Единый интерфейс определяет интерфейс между клиентами и серверами. Это упрощает и отделяет архитектуру, которая позволяет каждой части развиваться самостоятельно.

####           _Четыре принципа единого интерфейса:_

* _Identification of resources \(основан на ресурсах\)._ **В REST ресурсом является все то, чему можно дать имя**. Например,пользователь, изображение, предмет \(майка, голодная собака, текущая погода\) и т.д. Каждый ресурс в REST должен быть идентифицирован посредством стабильного идентификатора, который не меняется при изменении состояния ресурса. **Идентификатором в REST является URI.**
* _Manipulation of resources through representations. \(Манипуляции над ресурсами через представления\)._ Представление в REST используется для выполнения действий над ресурсами. Представление ресурса представляет собой текущее или желаемое состояние ресурса. Например, если ресурсом является пользователь, то представлением может являться XML или HTML описание этого пользователя.
* _Self-descriptive messages \(само-документируемые сообщения\)_. Под само-описательностью имеется ввиду, что запрос и ответ должны хранить в себе всю необходимую информацию для их обработки. Не должны быть дополнительные сообщения или кэши для обработки одного запроса. Другими словами отсутствие состояния, сохраняемого между запросами к ресурсам. Это очень важно для масштабирования системы.
* _HATEOAS \(hypermedia as the engine of application state\)._ Статус ресурса передается через содержимое body, параметры строки запроса, заголовки запросов и запрашиваемый URI \(имя ресурса\). Это называется гипермедиа \(или гиперссылки с гипертекстом\). HATEOAS также означает, что, в случае необходимости ссылки могут содержатся в теле ответа \(или заголовках\) для поддержки URI , извлечения самого объекта или запрошенных объектов.

